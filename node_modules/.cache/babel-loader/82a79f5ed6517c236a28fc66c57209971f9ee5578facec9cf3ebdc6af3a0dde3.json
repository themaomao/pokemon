{"ast":null,"code":"import _toConsumableArray from\"/Users/maomao/kh-pokemon/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"/Users/maomao/kh-pokemon/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/maomao/kh-pokemon/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/maomao/kh-pokemon/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect}from\"react\";import Card from'./Card';import Pokeinfo from'./Pokeinfo';import axios from\"axios\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Main=function Main(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pokeData=_useState2[0],setPokeData=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(\"https://pokeapi.co/api/v2/pokemon/\"),_useState6=_slicedToArray(_useState5,2),url=_useState6[0],setUrl=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),nextUrl=_useState8[0],setNextUrl=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),prevUrl=_useState10[0],setPrevUrl=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),pokeDex=_useState12[0],setPokeDex=_useState12[1];var pokeFun=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setLoading(true);_context.next=3;return axios.get(url);case 3:res=_context.sent;//console.log(res.data.results)\nsetNextUrl(res.data.next);setPrevUrl(res.data.previous);getPokemon(res.data.results);setLoading(false);// console.log(pokeData)\ncase 8:case\"end\":return _context.stop();}},_callee);}));return function pokeFun(){return _ref.apply(this,arguments);};}();var getPokemon=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(res){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:res.map(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(item){var result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(item.url);case 2:result=_context2.sent;//console.log(result.data)\nsetPokeData(function(state){state=[].concat(_toConsumableArray(state),[result.data]);state.sort(function(a,b){return a.id>b.id?1:-1;});return state;});case 4:case\"end\":return _context2.stop();}},_callee2);}));return function(_x2){return _ref3.apply(this,arguments);};}());case 1:case\"end\":return _context3.stop();}},_callee3);}));return function getPokemon(_x){return _ref2.apply(this,arguments);};}();useEffect(function(){pokeFun();},[url]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left-content\",children:[/*#__PURE__*/_jsx(Card,{pokemon:pokeData,loading:loading,infoPokemon:function infoPokemon(poke){return setPokeDex(poke);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group\",children:[prevUrl&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setPokeData([]);setUrl(prevUrl);},children:\"Previous\"}),nextUrl&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setPokeData([]);setUrl(nextUrl);},children:\"Next\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"right-content\",children:/*#__PURE__*/_jsx(Pokeinfo,{data:pokeDex})})]})});};export default Main;","map":{"version":3,"names":["React","useEffect","Card","Pokeinfo","axios","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Main","_useState","_useState2","_slicedToArray","pokeData","setPokeData","_useState3","_useState4","loading","setLoading","_useState5","_useState6","url","setUrl","_useState7","_useState8","nextUrl","setNextUrl","_useState9","_useState10","prevUrl","setPrevUrl","_useState11","_useState12","pokeDex","setPokeDex","pokeFun","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","get","sent","data","previous","getPokemon","results","stop","apply","arguments","_ref2","_callee3","_callee3$","_context3","map","_ref3","_callee2","item","result","_callee2$","_context2","state","concat","_toConsumableArray","sort","a","b","id","_x2","_x","children","className","pokemon","infoPokemon","poke","onClick"],"sources":["/Users/maomao/kh-pokemon/src/components/Main.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport Card from './Card';\nimport Pokeinfo from './Pokeinfo';\nimport axios from \"axios\";\nimport {useState} from \"react\";\nconst Main = () =>{\n    const [pokeData, setPokeData]=useState([]);\n    const [loading,setLoading]=useState(true);\n    const [url,setUrl]=useState(\"https://pokeapi.co/api/v2/pokemon/\")\n    const [nextUrl, setNextUrl]=useState();\n    const [prevUrl, setPrevUrl]=useState();\n    const [pokeDex, setPokeDex]=useState();\n    \n    const pokeFun=async()=>{\n        setLoading(true)\n        const res=await axios.get(url);\n        //console.log(res.data.results)\n        setNextUrl(res.data.next);\n        setPrevUrl(res.data.previous);\n        getPokemon(res.data.results)\n        setLoading(false)\n       // console.log(pokeData)\n    }\n    const getPokemon=async(res)=>{\n        res.map(async(item)=>{\n            const result=await axios.get(item.url)\n            //console.log(result.data)\n            setPokeData(state=>{\n                state=[...state, result.data]\n                state.sort((a,b)=>a.id>b.id?1:-1)\n                return state;\n            })\n        })\n    }\n\n    useEffect(()=>{\n        pokeFun();\n\n    },[url])\n    return(\n<>\n<div className=\"container\">\n    <div className=\"left-content\">\n        <Card pokemon={pokeData} loading={loading} infoPokemon={poke=>setPokeDex(poke)}/>\n        \n        <div className=\"btn-group\">\n            { prevUrl && <button onClick={()=>{\n                setPokeData([])\n                setUrl(prevUrl)\n            }}>Previous</button>}\n            { nextUrl && <button onClick={()=>{\n                setPokeData([])\n                setUrl(nextUrl)\n            }}>Next</button>}\n        </div>\n    </div>\n    <div className=\"right-content\">\n    <Pokeinfo data={pokeDex}/>\n    </div>\n</div>\n</>\n    )\n}\n\nexport default Main;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}